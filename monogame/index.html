<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Monogame on Apple Silicon</title>


<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}

kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb
}

* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
  body {
    padding: 2cm; 
  }
}
</style>


</head>

<body>

<h1 id="toc_0">Using MonoGame on Apple Silicon (August 2023)</h1>

<p>The Mac platform has had four major transitions in its lifetime so far: the switch from the Motorola 68000 to PowerPC processors, the switch from Mac OS 9 to Mac OS X (macOS), the switch from PowerPC to Intel processors, and the last being where we are now: the switch from Intel to Apple Silicon processors.</p>

<p><img src="appleintel.jpg" alt="">
<p style="text-align: center;"><em>January 10, 2006: Intel CEO Paul Otellini delivers the first Intel Silicon Wafer to Apple CEO Steve Jobs</em></p></p>

<p>Most software has transitioned extremely well, and MonoGame was almost one of them. MonoGame can use the ARM version of the .NET SDK to compile and run games, but the MonoGame Content Builder Editor uses a binary only present in the x64 version of the .NET SDK at this time. Our solution is to install the x64 version of the .NET SDK and use Rosetta 2 emulation to run it.</p>

<p>If you run into any issues running MonoGame on an Apple Silicon machine please contact <a href="mailto:barlas.3@osu.edu">barlas.3@osu.edu</a> or put a message up on Piazza (preferred).</p>

<!--## Table Of Contents
[Step 1. Looking for .NET SDKs](#installation)

[Step 2. Installing .NET 6 for x86-64](#step-2-installing-net-6-for-x86-64)

[Step 3. Installing Visual Studio for Mac 2022](#step-3-installing-visual-studio-for-mac-2022)

[Step 4. Installing MonoGame](#step-4-installing-monogame)

[Step 5. Running the MonoGame Content Builder Editor](#step-5-running-the-monogame-content-builder-editor)-->

<h2 id="toc_1">Installation</h2>

<h3 id="toc_2">Step 1. Looking for .NET SDKs</h3>

<p>Ensure that .NET is not previously installed on your system by typing the following command in the macOS Terminal:</p>

<div><pre><code class="language-none">dotnet --info</code></pre></div>

<p>which should result in the following response:
<img src="dotnet%20not%20found.png" alt=""></p>

<p>If an ARM version of dotnet is already installed
<strong>you should make a backup of your system before moving forward.</strong> Nothing we are doing is particularly dangerous, but if you have other apps that use the .NET runtime I am not 100% sure how much they love getting the ARM version trashed in favor of a x64 version.</p>

<h3 id="toc_3">Step 2. Installing .NET 6 for x86-64</h3>

<p>Download the x64 version of .NET 6 for macOS by <a href="https://dotnet.microsoft.com/en-us/download/dotnet/6.0">going to Microsoft&#39;s website</a>.
<img src="download%20net6.png" alt=""></p>

<p>Run the .NET installer. The system may ask to install Rosetta, please accept this prompt. If you do not see this prompt that means you previously installed Rosetta on your machine. Once the install is complete you may move the installer disk image to the trash.
<img src="rosetta%20prompt.png" alt=""></p>

<p>If your Terminal app is still open, please restart it. You will now find that if you try to reinvoke the
<code>
dotnet --info
</code>
command, the dotnet executable is still not found by the system. This is because we need to create a symbolic link between where the x64 version of .NET installed and where macOS is looking for executables.</p>

<p>Open Finder, and from the Menu Bar select <code>Go &gt; Go to Folder</code> to see if the <code>/usr/local/bin</code> directory exists. If it does not, please run these two commands:</p>

<div><pre><code class="language-none">cd ~
sudo mkdir /usr/local/bin</code></pre></div>

<p>Now we can create a symbolic link to the x64 binary:</p>

<div><pre><code class="language-none">cd ~
sudo ln -s /usr/local/share/dotnet/x64/dotnet /usr/local/bin</code></pre></div>

<p>Restart the Terminal again, and now invoke</p>

<div><pre><code class="language-none">dotnet --info</code></pre></div>

<p>to verify the installation of the x64 version of .NET was successful.</p>

<p><img src="x64%20dotnet%20info.png" alt=""></p>

<h3 id="toc_4">Step 3. Installing Visual Studio for Mac 2022</h3>

<p>Please download Visual Studio for Mac 2022 by going to <a href="https://visualstudio.microsoft.com/vs/mac/">Microsoft&#39;s website</a> and hitting the download button at the top of the page. Once the download is complete, please run the installer.</p>

<p>When the <strong>What would you like to install?</strong> page appears, make sure to <strong>deselect</strong> the .NET option. This will install the ARM version of the .NET SDK which does not have the binaries needed for the Monogame Content Builder. You may now click install. When the installer asks if you would like to install Xcode Command Line Tools, you can choose either option.</p>

<p><img src="vs%20installer.png" alt=""></p>

<h3 id="toc_5">Step 4. Installing MonoGame</h3>

<p>Download the MonoGame extension for Mac from <a href="https://github.com/MonoGame/MonoGame/releases/tag/v3.8.1_HOTFIX">MonoGame&#39;s GitHub page</a>.</p>

<p><img src="download%20monogame.png" alt=""></p>

<p>Launch Visual Studio and open the extension menu by going to the Menu Bar and choosing <code>Visual Studio &gt; Extensions</code></p>

<p>Click the <code>Install from file...</code> button in the bottom right and select the <code>.mpack</code> file you just downloaded. Ignore the warning that talks about <code>MonoDevelop.Core</code>. Close the extension menu, <strong>do not</strong> restart Visual Studio, and click on the new project button. You should be able to see a <code>MonoGame</code> section in the project creation window. Create a project and click run, and the standard MonoGame window should appear.</p>

<p><img src="monogame%20installer.png" alt=""></p>

<p>There will be times when you want to create a new project and the <code>MonoGame</code> section in the new project wizard is absent. When this happens, go to <code>Visual Studio &gt; Extensions</code> to uninstall and reinstall the same <code>.mpack</code> file we just installed. Now, the section should appear when creating a new project. You do not need to do this every time you open Visual Studio, only when you want to create a new project.</p>

<p><img src="new%20project%20prompt.png" alt=""></p>

<h3 id="toc_6">Step 5. Running a MonoGame Project</h3>

<p>With a new project made and ready to go, it is now time to build the project. Click the play button found in the upper left corner of Visual Studio to start compiling the project. This may take some time. Once completed, the project should launch automatically while your Visual Studio opens some debug windows.
<img src="running%20game.png" alt=""></p>

<h3 id="toc_7">Step 6. Running the MonoGame Content Builder Editor</h3>

<p>Using the project navigator on the left of the Visual Studio window, go to <code>Content</code> directory of your MonoGame project. There should be a <code>Content.mcgb</code> file that handles the content pipeline for your project. Right click this file and select <code>Open With &gt; MCGB Editor</code> and the MonoGame Content Builder Editor should now launch.</p>

<p>You will notice that the top bar of buttons shown in RB Whitaker&#39;s tutorial is not present, but they are hidden in the Menu Bar. To add content, from the Menu Bar select <code>Edit &gt; Add &gt; Existing Item...</code>. To build content, from the Menu Bar select <code>Build &gt; Build</code>. When you eventually try to build content by launching the MCGB from Visual Studio, you will find that a build error occurs:</p>

<p><img src="mcgb%20editor%20fail.png" alt=""></p>

<p>Please quit the MCGB Editor. The simple fix is that every time you want to build content you need to launch the MCGB Editor from the macOS Terminal. To do this, navigate to your MonoGame project&#39;s Content directory in the Terminal (using <code>cd</code> command) and execute:</p>

<div><pre><code class="language-none">open Content.mcgb</code></pre></div>

<p>and now the build process should succeed.</p>

<p><img src="mcgb%20editor%20succeed.png" alt=""></p>




</body>

</html>
